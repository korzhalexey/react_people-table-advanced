(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{29:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var c=n(20),a=n.n(c),r=n(6),s=n(3),i=n(1),o=(n(29),n(0)),l=function(){return Object(o.jsx)("nav",{className:"navigation",children:Object(o.jsxs)("ul",{className:"navigation__list",children:[Object(o.jsx)("li",{className:"navigation__item",children:Object(o.jsx)(r.c,{to:"/",exact:!0,className:"navigation__link",children:"Home"})}),Object(o.jsx)("li",{className:"navigation__item",children:Object(o.jsx)(r.c,{to:"/table",className:"navigation__link",children:"Table"})})]})})},j=function(){return Object(o.jsx)("header",{children:Object(o.jsx)(l,{})})},d=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("h1",{children:"Home page"})})},b=n(16),u=n(17),h=n(23),O=n.n(h),m=n(18),f=function(){return fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return e.map((function(t){return Object(m.a)(Object(m.a)({},t),{},{mother:e.find((function(e){return e.name===t.motherName})),father:e.find((function(e){return e.name===t.fatherName}))})}))})).catch((function(e){return e}))},x=n(12),g="name",p="born",v="died",N="asc",_=function(){var e=[g,"sex",p,v],t=new URLSearchParams(Object(s.h)().search),n=t.get("sorted_by")||"",c=Object(s.g)(),a=t.get("sorting_order")||"";return Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[e.map((function(e){return Object(o.jsx)("th",{className:"sortable",onClick:function(){!function(e){e===n?t.set("sorting_order",a===N?"desc":N):(t.set("sorted_by",e),t.set("sorting_order",N)),c.push("?".concat(t.toString()))}(e)},children:e},Object(x.a)())})),Object(o.jsx)("th",{children:"father"}),Object(o.jsx)("th",{children:"mother"})]})})},w=n(24),y=n.n(w),S=function(e){var t=e.person,n=e.table,c=t.name,a=t.sex,i=t.born,l=t.died,j=t.mother,d=t.father,b=t.fatherName,u=t.motherName,h=t.slug,O=Object(s.h)().search,m=new URLSearchParams(O);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("td",{children:Object(o.jsx)(r.b,{className:"m"===a?"male":"female",to:"/table/".concat(h,"?").concat(m.toString()),children:c})}),Object(o.jsx)("td",{children:a}),Object(o.jsx)("td",{children:i}),Object(o.jsx)("td",{children:l}),Object(o.jsx)("td",{children:n.find((function(e){return e.name===b}))?Object(o.jsx)(r.b,{to:"/table/".concat(null===d||void 0===d?void 0:d.slug,"?").concat(m.toString()),className:"male",children:b}):Object(o.jsx)("span",{className:"not-found",children:b})}),Object(o.jsx)("td",{children:n.find((function(e){return e.name===u}))?Object(o.jsx)(r.b,{to:"/table/".concat(null===j||void 0===j?void 0:j.slug,"?").concat(m.toString()),className:"female",children:u}):Object(o.jsx)("span",{className:"not-found",children:u})})]})},C=function(e){var t=e.table,n=Object(s.h)().pathname,c=n.slice(n.lastIndexOf("/")+1);return Object(o.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(o.jsx)("tr",{className:y()({"selected-row":c===e.slug}),children:Object(o.jsx)(S,{person:e,table:t})},Object(x.a)())}))})},L=(n(54),function(e){var t=e.table;return Object(o.jsxs)("table",{children:[Object(o.jsx)(_,{}),Object(o.jsx)(C,{table:t})]})}),k=(n(55),function(){var e=Object(s.g)(),t=Object(s.h)(),n=new URLSearchParams(t.search),c=n.get("query")||"",a=Object(i.useState)(),r=Object(u.a)(a,2),l=r[0],j=r[1],d=Object(i.useState)(),h=Object(u.a)(d,2),m=h[0],x=h[1],_=n.get("sorted_by")||"",w=n.get("sorting_order")||"",y=function(e){var t,n=[];(e?n=Object(b.a)(e):l&&(n=Object(b.a)(l)),n)&&(null===(t=n)||void 0===t||t.sort((function(e,t){return _===g||"sex"===_?w===N?e[_].localeCompare(t[_]):t[_].localeCompare(e[_]):_===p||_===v?w===N?e[_]-t[_]:t[_]-e[_]:0})),j(n))};Object(i.useEffect)((function(){f().then(x),y()}),[]),Object(i.useEffect)((function(){if(c){var e=c.toLowerCase(),t=null===m||void 0===m?void 0:m.filter((function(t){var n,c;return t.name.toLowerCase().includes(e)||(null===(n=t.fatherName)||void 0===n?void 0:n.toLowerCase().includes(e))||(null===(c=t.motherName)||void 0===c?void 0:c.toLowerCase().includes(e))}));j(t),y(t)}else j(m),y(m)}),[m,c]);return Object(i.useEffect)((function(){y()}),[_,w]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"People page"}),l?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{type:"text",placeholder:"Filter",value:c,onChange:function(t){t.target.value?n.set("query",t.target.value):n.delete("query"),e.push("?".concat(n.toString()))}}),l.length>0?Object(o.jsx)(L,{table:l}):Object(o.jsx)("article",{className:"message",children:Object(o.jsx)("div",{className:"message__body",children:Object(o.jsx)("p",{children:"Nothing was found"})})})]}):Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)(O.a,{type:"Circles",color:"#039",height:100,width:100})})]})}),P=function(){return Object(o.jsx)("p",{children:"Page not found"})},E=(n(56),function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(j,{}),Object(o.jsxs)(s.d,{children:[Object(o.jsx)(s.b,{path:"/",exact:!0,component:d}),Object(o.jsx)(s.b,{path:"/table/:user?",component:k}),Object(o.jsx)(s.a,{from:"/home",to:"/"}),Object(o.jsx)(P,{})]})]})});a.a.render(Object(o.jsx)(r.a,{children:Object(o.jsx)(E,{})}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.5a0e4b10.chunk.js.map